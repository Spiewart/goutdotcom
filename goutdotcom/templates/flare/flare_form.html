{% extends "base_form.html" %}
{% load crispy_forms_tags %}

{% block title %}
{% if form.instance.pk %}
Update Flare
{% else %}
New Flare
{% endif %}
{% endblock %}

{% block header %}
{% if form.instance.pk %}
<h1 class="content-heading">Update Flare</h1>
{% else %}
<h1 class="content-heading">New Flare</h1>
{% endif %}
{% endblock header %}

{% block form %}
  {% if form.instance.pk %}
    <form class="form-horizontal" method="post" action="{% url 'flare:update' object.pk %}" enctype='multipart/form-data'>
      {% csrf_token %}
      {% crispy form %}
      <input class="btn btn-primary btn-lg" type="submit" value="Submit">
    </form>
  {% else %}
    <form class="form-horizontal" method="post" action="{% url 'flare:create' %}">
    {% csrf_token %}
    {% crispy form %}
    <input class="btn btn-primary btn-lg" type="submit" value="Submit">
    </form>
  {% endif %}
{% endblock form %}

{% block inline_javascript %}
<script>
    // this is executed once when the page loads
  $(document).ready(function() {
    check_initial_location();
    });
  $(document).ready(function() {
    check_initial_urate();
    });
  $(document).ready(function() {
    // toggles upper and lower extremity options when location checkbox is checked
    $('#location_check').change(check_location);
    check_location.call($('#location_check').get(0));
    });
  $(document).ready(function() {
    // toggles upper extremity options when upper extremity checkbox is checked
    $('#location_check').change(check_extremity);
    check_extremity.call($('#location_check').get(0));
    });
  $(document).ready(function() {
    // toggles upper extremity options when upper extremity checkbox is checked
    $('#upper_extremity_check').change(check_extremity);
    check_extremity.call($('#upper_extremity_check').get(0));
    });
  $(document).ready(function() {
    // toggles lower extremity options when upper extremity checkbox is checked
    $('#lower_extremity_check').change(check_extremity);
    check_extremity.call($('#lower_extremity_check').get(0));
    });

</script>
{% endblock inline_javascript %}
