{% extends "base.html" %}
{% load static %}
{% load lab_extras %}

{% block content %}
<main role="main" class="container content-container">
    <h1 class="content-heading">{{ request.user|capfirst }}'s Labs<a class="btn btn-primary" href="{% url 'lab:about' 'alllabs' %}" role="button" style="float: right;">About Gout Labs</a>
    {% if request.user.is_authenticated %}
    <div class="btn-group" role="group" aria-label="Button group with nested dropdown" style="float: right;">
      <div class="btn-group" role="group">
        <button id="btnGroupDrop1" type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"
          aria-expanded="false">
          Log a Lab
        </button>
        <ul class="dropdown-menu" aria-labelledby="btnGroupDrop1" id="dropdown">
          <li><a class="dropdown-item" href="{% url 'lab:create' 'urate' %}">Uric Acid</a></li>
          <li><a class="dropdown-item" href="{% url 'lab:create' 'ALT' %}">ALT</a></li>
          <li><a class="dropdown-item" href="{% url 'lab:create' 'AST' %}">AST</a></li>
          <li><a class="dropdown-item" href="{% url 'lab:create' 'WBC' %}">WBC</a></li>
          <li><a class="dropdown-item" href="{% url 'lab:create' 'hemoglobin' %}">Hemoglobin</a></li>
          <li><a class="dropdown-item" href="{% url 'lab:create' 'platelet' %}">Platelets</a></li>
          <li><a class="dropdown-item" href="{% url 'lab:create' 'creatinine' %}">Creatinine</a></li>
        </ul>
      </div>
    </div>
    {% endif %}
    </h1>
    <div class="row">
      <div class="col">
        {% if labs %}
          {% for lab in labs %}
            <div class="container content">
              <h2><a href="{% url 'lab:list' lab.name %}">{{ lab.name|capfirst}}</h2></a>
              <ul>
                <li>{{ lab.value }} {{ lab.urate.units }}</li>
                <li>{% if lab.date_drawn %} Drawn: {{ lab.date_drawn }} {% else %} Created: {{ lab.created }}{% endif %}</li>
              </ul>
            </div>
          {% endfor %}
        {% endif %}
      </div>
    </div>
</main>
{% endblock content %}
