{% extends "base.html" %}
{% load static %}

{% block content %}
<main role="main" class="container">
  <div class="container">
    <h1>Your Labs<a class="btn btn-primary" href="{% url 'lab:about' 'alllabs' %}" role="button" style="float: right;">About Gout Labs</a> 
    {% if request.user.is_authenticated %}
    <div class="btn-group" role="group" aria-label="Button group with nested dropdown" style="float: right;">
      <div class="btn-group" role="group">
        <button id="btnGroupDrop1" type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
          Log a Lab
        </button>
        <ul class="dropdown-menu" aria-labelledby="btnGroupDrop1" id="dropdown">
          <li><a class="dropdown-item" href="{% url 'lab:lab-create' 'urate' %}">Uric Acid</a></li>
          <li><a class="dropdown-item" href="{% url 'lab:lab-create' 'ALT' %}">ALT</a></li>
          <li><a class="dropdown-item" href="{% url 'lab:lab-create' 'AST' %}">AST</a></li>
          <li><a class="dropdown-item" href="{% url 'lab:lab-create' 'WBC' %}">WBC</a></li>
          <li><a class="dropdown-item" href="{% url 'lab:lab-create' 'hemoglobin' %}">Hemoglobin</a></li>
          <li><a class="dropdown-item" href="{% url 'lab:lab-create' 'platelet' %}">Platelets</a></li>
          <li><a class="dropdown-item" href="{% url 'lab:lab-create' 'creatinine' %}">Creatinine</a></li>
        </ul>
      </div>
    </div>
    {% endif %}
    </h1>
    <div class="row">
        {% if urate_list %}
          <div class="col">
          <h2><a href="{% url 'lab:lab-list' 'urate' %}">Uric Acids</a></h2>
          {% for urate in urate_list %}
          <div class="container user-flare-list">
            <p>{{ urate.value }} {{ urate.units }}</p>
            <p>Date: <a href="{% url 'lab:lab-update' 'urate' urate.pk %}">{{ urate.date_drawn }}</a></p>
          </div>
          <br>
          {% endfor %}
        </div>
        {% endif %}
        {% if creatinine_list %}
        <div class="col">
           <h2><a href="{% url 'lab:lab-list' 'creatinine' %}">Creatinines</a></h2>
           {% for creatinine in creatinine_list %}
            <div class="container user-flare-list">
              <p>{{ creatinine.value }} {{ creatinine.units }}</p>
              <p>eGFR: {{ creatinine.eGFR_calculator|floatformat:2 }}</p>
              <p>Date: <a href="{% url 'lab:lab-update' 'creatinine' creatinine.pk %}">{{ creatinine.date_drawn }}</a></p>
           </div>
           <br>
           {% endfor %}
         </div>
         {% endif %}
        </div>
        <div class="row">
          {% if ALT_list %}
            <div class="col">
            <h2><a href="{% url 'lab:lab-list' 'ALT' %}">ALTs</a></h2>
            {% for ALT in ALT_list %}
            <div class="container user-flare-list">
              <p>{{ ALT.value }} {{ ALT.units}}</p>
              <p>Date: <a href="{% url 'lab:lab-update' 'ALT' ALT.pk %}">{{ ALT.date_drawn }}</a></p>
            </div>
            <br>
            {% endfor %}
          </div>
          {% endif %}
          {% if AST_list %}
          <div class="col">
            <h2><a href="{% url 'lab:lab-list' 'AST' %}">ASTs</a></h2>
            {% for AST in AST_list %}
            <div class="container user-flare-list">
              <p>{{ AST.value }} {{ AST.units }}</p>
                <p>Date: <a href="{% url 'lab:lab-update' 'AST' AST.pk %}">{{ AST.date_drawn }}</a></p>
            </div>
            <br>
            {% endfor %}
          </div>
          {% endif %}
      </div>
      <div class="row">
        {% if platelet_list %}
        <div class="col">
          <h2><a href="{% url 'lab:lab-list' 'platelet' %}">Platelets</a></h2>
          {% for platelet in platelet_list %}
          <div class="container user-flare-list">
            <p>{{ platelet.value }} {{ platelet.units}}</p>
            <p>Date: <a href="{% url 'lab:lab-update' 'platelet' platelet.pk %}">{{ platelet.date_drawn }}</a></p>
          </div>
          <br>
          {% endfor %}
        </div>
        {% endif %}
        {% if WBC_list %}
        <div class="col">
          <h2><a href="{% url 'lab:lab-list' 'WBC' %}">WBCs</a></h2>
          {% for WBC in WBC_list %}
          <div class="container user-flare-list">
            <p>{{ WBC.value }} {{ WBC.units }}</p>
            <p>Date: <a href="{% url 'lab:lab-update' 'WBC' WBC.pk %}">{{ WBC.date_drawn }}</a></p>
          </div>
          <br>
          {% endfor %}
        </div>
        {% endif %}
       {% if hemoglobin_list %}
       <div class="col">
          <h2><a href="{% url 'lab:lab-list' 'hemoglobin' %}">Hemoglobins</a></h2>
          {% for hemoglobin in hemoglobin_list %}
          <div class="container user-flare-list">
            <p>{{ hemoglobin.value }} {{ hemoglobin.units }}</p>
            <p>Date: <a href="{% url 'lab:lab-update' 'hemoglobin' hemoglobin.pk %}">{{ hemoglobin.date_drawn }}</a></p>
          </div>
          <br>
          {% endfor %}
        </div>
        {% endif %}
      </div>
      </div>
    </div>
  </div>
  </main>
{% endblock content %}
